{% extends 'samuv_site/base.html' %}
{% block content %}

<!--{% block title %} Relatório de Paciente {% endblock %}-->
<!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h5 class="m-0 text-dark">Relatório de Paciente</h5>
            {% for resp in resposta %}
                <p>{{resp.nomeCompleto}}</p>
                <p>{{resp.cpf}}</p>
            {% endfor %}
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <!-- <li class="breadcrumb-item"><a href="#">Home</a></li> -->
              <!--li class="breadcrumb-item active">Dashboard v3</li-->
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
    <!-- Main content -->
    <div class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-auto">
            <div-- class="card">
              <!-- Main row -->
        </div>
            <!-- /.card -->
          </div>
        </div>
        <!-- /.row -->

        <!-- graphic -->
        <canvas class="line-chart">
          
        </canvas>
        <!-- /.graphic -->
        
        <!-- /.card -->

      </div>
      <!-- /.container-fluid -->



    </div>
    <!-- /.content -->

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>>
  <!-- /.content-wrapper -->

  <script>
  var ctx = document.getElementsByClassName("line-chart");
  var nomes = []
  var numero = []
  {% for r in contexto %}
    nomes = {{ r.nomeCompleto }}
    numero = {{ r.id }}
  {% endfor %}
  dados = {
      //labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
      //labels: ["Marcelo", "Livia", "Zelia"],
      labels: nomes,
      datasets: [{
        label: "Linha1",
        //data: [2,1,3,5,2,3,6,4,3,2,5,6],
        //data: numero,
        data: [2,3,1],
        borderWidth: 3,
        borderColor: 'rgba(77,166,253,0.85)',
        backgroundColor: 'transparent',
      }]/*,
      {
        label: "Linha2",
        data: [4,3,5,1,4,2,3,1,4,5,2,3],
        borderWidth: 3,
        borderColor: 'rgba(6,204,6,0.85)',
        backgroundColor: 'transparent',
      },
      {
        label: "Linha3",
        data: [3,5,6,7,8,6,4,5,7,6,7,8],
        borderWidth: 3,
        borderColor: 'rgba(10,204,6,0.85)',
        backgroundColor: 'transparent',
      }]*/
    };

    dados2 = {
      labels: ["Jan", "Fev", "Mar", "Abr", "Mai"],
      datasets: [{
        label: "Linha1",
        data: [2,1,3,5,2],
        borderWidth: 3,
        borderColor: 'rgba(77,166,253,0.85)',
        backgroundColor: 'transparent',
      },
      {
        label: "Linha2",
        data: [4,3,5,1,4],
        borderWidth: 3,
        borderColor: 'rgba(6,204,6,0.85)',
        backgroundColor: 'transparent',
      }]
    }

  //Type, data and options
  var chartGraph = new Chart(ctx, {
    type: "line",
    data: dados,
    options: {
      title: {
        display: true,
        fontSize: 20,
        text: "RELATÓRIO DE PACIENTE SAMUV"
      },
      lables: {
        fontSize: "bold"
      }
    }
  });
</script>

<script>
    {% block jquery %}
      var endpoint = 'http://127.0.0.1:8000/samuv_site/paciente_lista/?format=json'
      //var nomesDjango = "{{ nomeCompleto }}"
      console.log(nomesDjango)
      $.ajax({
        method: "GET",
        url: endpoint,
        success: function(data){
          console.log(data)
        }
      })
    {% endblock %}
</script>>

{% endblock %}